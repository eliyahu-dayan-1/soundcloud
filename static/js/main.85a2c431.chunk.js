(this["webpackJsonpedea-app"]=this["webpackJsonpedea-app"]||[]).push([[0],{26:function(e,t,a){e.exports=a(56)},31:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),o=a.n(r),i=(a(31),a(9));function l(e){return c.a.createElement("header",{className:"flex align-center"},c.a.createElement(i.b,{to:"/"},c.a.createElement("div",{className:"soundcloud-icon"})))}var s=a(1),u={storeToStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t)||null)},loadFromStorage:function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):void 0}};var m={on:function(e,t){var a=function(e){var a=e.detail;t(a)};return window.addEventListener(e,a),function(){window.removeEventListener(e,a)}},emit:function(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}},d=a(4),f=a.n(d),p=a(5);function E(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){o(e.currSearch)}),[e.currSearch]),c.a.createElement("section",{className:"search-input"},c.a.createElement("form",{className:"search-track flex aling-center space-between",onSubmit:function(t){t.preventDefault(),t.stopPropagation(),e.setSearch(r)}},c.a.createElement("div",{className:"input-container grow-1"},c.a.createElement("input",{type:"text",value:r,onChange:function(e){var t=e.target.value;o(t)},placeholder:"Find me a track..."})),c.a.createElement("button",{className:"search-icon-wrap flex align-center justify-center"},c.a.createElement("div",{className:"search-icon"},"search"))))}var v=a(8),h=a.n(v),g=a(6),k=a.n(g);function b(e){var t=e.track,a=e.displayMode;return c.a.createElement(c.a.Fragment,null,"tile"===a&&c.a.createElement("img",{src:t.artwork_url||k.a,onError:function(e){e.target.onerror=null,e.target.src=k.a},alt:""}),c.a.createElement("div",{className:"cut-text"},t.title," "),c.a.createElement("div",{className:"properties flex column"},c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"clock-icon"}),c.a.createElement("div",null,h()(t.duration).format("mm:ss"))),t.genre&&c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"genre-icon"}),c.a.createElement("div",null,t.genre))))}function y(e){return e.tracks&&e.tracks.length?c.a.createElement("section",{className:"tracks-".concat(e.displayMode," flex align-center column")},e.tracks.map((function(t){return c.a.createElement("button",{className:"track-".concat("tile"===e.displayMode?"tile":"row"," flex column"),key:t.id,onClick:function(){return e.onTrackClick(t.id)}},c.a.createElement(b,{track:t,displayMode:e.displayMode}))}))):""}function N(e){return c.a.createElement("div",null,c.a.createElement("div",{className:"result-nav flex align-center space-between"},c.a.createElement("div",{className:"pagination flex"},c.a.createElement("button",{className:1===e.currPage?"hidden":"",onClick:function(){return e.changePagination(-1)}},c.a.createElement("div",{className:"back-icon"})),c.a.createElement("div",{className:"curr-page"},e.currPage),c.a.createElement("button",{className:e.isNextHerf?"":"hidden",onClick:function(){return e.changePagination(1)}},c.a.createElement("div",{className:"next-icon"}))),c.a.createElement("div",{className:"list-mode flex"},c.a.createElement("button",{onClick:function(){return e.changeDisplayMode("list")}},c.a.createElement("div",{className:"list-icon"})),c.a.createElement("button",{onClick:function(){return e.changeDisplayMode("tile")}},c.a.createElement("div",{className:"tile-icon"})))))}var w=a(25),x="ggX0UomnLs0VmW7qZnCzw",j=a.n(w).a.create({withCredentials:!0}),S={query:function(){return O.apply(this,arguments)},gerTrack:function(e){return C.apply(this,arguments)}};function O(){return(O=Object(p.a)(f.a.mark((function e(){var t,a,n,c=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:null,a=c.length>1?c[1]:void 0,e.next=4,j.get("https://api.soundcloud.com/tracks.json?linked_partitioning=1&client_id=".concat(x,"&offset=").concat(6*(a-1),"&q=").concat(t,"&order=created_at&limit=6"));case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(p.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("https://api.soundcloud.com/tracks/".concat(t,"?&client_id=").concat(x));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){var t=Object(n.useState)("list"),a=Object(s.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(!1),l=Object(s.a)(i,2),d=(l[0],l[1]),v=Object(n.useState)(1),h=Object(s.a)(v,2),g=h[0],k=h[1],b=Object(n.useState)(null),w=Object(s.a)(b,2),x=w[0],j=w[1],O=Object(n.useState)(!1),C=Object(s.a)(O,2),M=C[0],T=C[1],P=Object(n.useState)(""),_=Object(s.a)(P,2),F=_[0],H=_[1];function q(){return D.apply(this,arguments)}function D(){return(D=Object(p.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.query(F,g);case 2:(t=e.sent).next_href?T(!0):T(!1),j(t.collection);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(p.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(!0),n=x.find((function(e){return e.id===a}))){t.next=6;break}return t.next=5,S.gerTrack(a);case 5:n=t.sent;case 6:e.trackClicked(n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useEffect)((function(){var e=u.loadFromStorage("displayMode");e&&o(e),q(),m.on("search-history",(function(e){H(e)}))}),[]),Object(n.useEffect)((function(){q()}),[F]),c.a.createElement("section",{className:"search-container flex column align-center space-between"},c.a.createElement(E,{setSearch:function(t){H(t),e.onSearchUpdateHistory(t)},currSearch:F}),c.a.createElement(y,{displayMode:r,onTrackClick:function(e){return J.apply(this,arguments)},tracks:x}),c.a.createElement(N,{changeDisplayMode:function(e){u.storeToStorage("displayMode",e),o(e)},changePagination:function(e){k(g+e),q(),window.scrollTo({top:0,behavior:"smooth"})},setPagination:k,currPage:g,isNextHerf:M}))}function T(e){return c.a.createElement("section",{className:"history-container"},c.a.createElement("div",{className:"history-title flex align-center"},c.a.createElement("div",{className:"history-icon"}),c.a.createElement("div",{className:"text"},"Search history")),e.history&&e.history.map((function(t,a){return c.a.createElement("button",{key:a,className:"history-row flex align-center",onClick:function(a){return e.onSearchHistory(a,t)}},c.a.createElement("div",{className:"search-grey-icon"}),c.a.createElement("div",null,t))})))}function P(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(!0),l=Object(s.a)(i,2),u=l[0],m=l[1];Object(n.useEffect)((function(){o(!1),m(!0)}),[e.currTrack]);var d=e.currTrack;return d?c.a.createElement("main",{className:"track-preview ".concat(u?"fade-in":""," grow-1 flex column"),onAnimationEnd:function(){return m(!1)}},c.a.createElement("div",{className:"flex column align-center justify-center"},c.a.createElement("button",{className:"track-tile flex column",onClick:function(e){o(!0)}},c.a.createElement("img",{src:d.artwork_url||k.a,onError:function(e){e.target.onerror=null,e.target.src=k.a},alt:""}),c.a.createElement("div",{className:"cut-text"},d.title," "),c.a.createElement("div",{className:"properties flex column"},c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"clock-icon"}),c.a.createElement("div",null,h()(d.duration).format("mm:ss"))),d.genre&&c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"genre-icon"}),c.a.createElement("div",null,d.genre)))),r&&c.a.createElement("iframe",{title:d.title,width:"100%",height:"200px",scrolling:"no",frameBorder:"no",allow:"autoplay",src:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/".concat(d.id,"&amp;auto_play=true")}))):c.a.createElement("main",{className:"track-preview flex align-center justify-center"},c.a.createElement("div",{className:"soundcloud-grey-icon"}))}function _(){var e="recentSearchs",t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(null),l=Object(s.a)(i,2),d=l[0],f=l[1];return Object(n.useEffect)((function(){f(u.loadFromStorage(e))}),[]),c.a.createElement("main",{className:"main-track-app"},c.a.createElement(M,{trackClicked:function(e){o(e)},onSearchUpdateHistory:function(t){var a=u.loadFromStorage(e)||[];a&&a.length>=5&&a.pop(),a.unshift(t),u.storeToStorage(e,a),f(a)}}),c.a.createElement(P,{currTrack:r}),c.a.createElement(T,{history:d,onSearchHistory:function(e,t){e.preventDefault(),m.emit("search-history",t)}}))}var F=function(){return c.a.createElement("div",{className:"app-container"},c.a.createElement(l,null),c.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(i.a,null,c.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,a){e.exports=a.p+"static/media/equlizer.ec150bce.jpg"}},[[26,1,2]]]);
//# sourceMappingURL=main.85a2c431.chunk.js.map